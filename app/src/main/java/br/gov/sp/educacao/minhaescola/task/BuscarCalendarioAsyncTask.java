package br.gov.sp.educacao.minhaescola.task;import android.content.Intent;import android.os.AsyncTask;import android.widget.Toast;import java.lang.ref.WeakReference;import br.gov.sp.educacao.minhaescola.banco.UsuarioQueries;import br.gov.sp.educacao.minhaescola.requests.BuscarCalendarioRequest;import br.gov.sp.educacao.minhaescola.view.CalendarioActivity;import br.gov.sp.educacao.minhaescola.view.MenuActivity;public class BuscarCalendarioAsyncTask        extends AsyncTask<Object,                            Void,                            Integer> {    private WeakReference<MenuActivity> menuActivityWeakReference;    private int cd_aluno,cdturma;    private UsuarioQueries usuarioQueries;    public BuscarCalendarioAsyncTask(MenuActivity menuActivity) {        usuarioQueries = new UsuarioQueries(menuActivity);        this.menuActivityWeakReference = new WeakReference(menuActivity);    }    @Override    protected void onPreExecute() {        super.onPreExecute();        MenuActivity menuActivity = menuActivityWeakReference.get();        menuActivity.mostrarSombraCarregamento();    }    @Override    protected Integer doInBackground(Object... params) {        cdturma = (Integer) params[0];        cd_aluno = (Integer) params[1];        int requestResponse = BuscarCalendarioRequest.executeRequest(usuarioQueries.getToken(),                cdturma, cd_aluno, menuActivityWeakReference.get());        return requestResponse;    }    @Override    protected void onPostExecute(Integer result) {        super.onPostExecute(result);        MenuActivity menuActivity = menuActivityWeakReference.get();        menuActivity.esconderSombraCarregamento();        if (result == 2){            Toast.makeText(menuActivity, "Ops! Verifique sua conexão e tente novamente", Toast.LENGTH_SHORT).show(); //TODO Validar texto            return;        }        if (result == 3){            Toast.makeText(menuActivity, "As informações sobre os eventos da escola estarão disponíveis em breve", Toast.LENGTH_LONG).show();            return;        }        Intent calendario = new Intent(menuActivity, CalendarioActivity.class);        calendario.putExtra("cd_aluno", cd_aluno);        menuActivity.startActivity(calendario);    }}